---
layout: post
title: Transactional
categories: spring
tags: mybatis
---

## <span style="color:gray">Transaction</span>

트랜잭션은 이름 그대로 번역하면 거래라는 뜻이다. 

쉽게 이야기하면 데이터베이스에서 트랜잭션은 하나의 거래를 안전하게 처리하도록 

보장해주는 것을 뜻한다. 예를 들면 A의 5000원을 B에게 계좌이체한다고 생각해보자.

A의 잔고를 5000원 감소하고, B의 잔고를 5000원 증가해야 한다.

<br>

> 5000원 계좌 이체

- A의 잔고를 5000원 감소
- B의 잔고를 5000원 증가

<br>

계좌이체라는 거래는 이렇게 2가지 직업이 합쳐져서 하나의 작업처럼 동작해야 한다.

만약 1번은 성공했는데 2번에서 시스템에 문제가 발생하면 1,2 둘다 함께 성공해야 저장하고,

중간에 하나라도 실패하면 거래 전의 상태로 돌아갈 수 있다. 만약 1번은 성공했는데 시스템에

문제가 발생하면 계좌이체는 실패하고, 걸래 전의 상태로 완전히 돌아갈 수 있다. 

결과적으로 A의 잔고가 감속하지 않는다. 모든 작업이 성공해서 데이터베이스에 정상 반영하는 것을 

commit이라고 하고, 작업 중 하나라도 실패해서 거래 이전으로 되돌리는 것을 Rollback이라고 한다.

<br>

## <span style="color:gray">트랜잭션 격리 수준 (Isolation level)</span>

⒈ READ UNCOMMITTED (커밋되지 않은 읽기)

⒉ READ COMMITTED (커밋된 읽기)

⒊ REPEATABLE READ (반복 가능한 읽기)

⒋ SEIALIZABLE (직렬화 기능)

<br>

격리 수준은 단계가 높아지면 높아질 수록 성능은 떨어진다는 특징을 가지고 있다. 

보통은 2,3 단계를 많이 쓴다고 한다.

---