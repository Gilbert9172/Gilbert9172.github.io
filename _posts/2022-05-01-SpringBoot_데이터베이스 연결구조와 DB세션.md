---
layout: post
title: 데이터베이스 연결구조와 DB세션
categories: spring
tags: springBoot
---

## <span style="color:gray">데이터베이스 연결구조 1 </span>

<img src="/assets/img/spring/DB연결구조1.png">

사용자는 웹 애플리케이션 서버(WAS)나 DB 접근 툴 같은 클라이언트를 사용해서 데이터베이스 

서버에 접근할 수 있다. 클라이언트는 데이터베이스 서버에 연결을 요청하고 커넥션을 맺게 된다.

이때 데이터베이스 서버는 내부에 **`세션`** 이라는 것을 만든다. 그리고 앞으로 해당 커넥션을 통한 

모든 요청은 이 **`세션`** 을 통해서 실행하게 된다.

<br>

쉽게 말하면 현재 커넥션에 연결된 **`세션`** 이 SQL을 실행한다. 

**`세션`** 은 트랜잭션을 시작하고, 커밋 또는 롤백을 통해 트랜잿견을 종료한다.

그리고 이후에 새로운 트랜잭션을 다시 시작할 수 있다. 사용자가 커넥션을 닫거나, 

또는 DB관리자가 **`세션`** 을 강제로 종료하면 **`세션`** 은 종료된다. 

---