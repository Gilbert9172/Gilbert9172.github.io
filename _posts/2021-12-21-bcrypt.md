---
layout: post
title: Flask-bcrypyt
categories: flask 
---

### ğŸ’¡ ***ë¹„ë°€ë²ˆí˜¸ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê¸°***

ì•”í˜¸ë¥¼ ìˆëŠ” ê·¸ëŒ€ë¡œ DBì— ì €ì¥í•˜ë©´ ë³´ì•ˆìƒ ë¬¸ì œê°€ ìƒê¸´ë‹¤.

ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ <span style="color:#2E8B57">**Flask-bcrpyt**</span>ë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤.

```python
# __init__.py
from flask_bcrypt import Bcrypt

bcrypt = Bcrypt()

def create_app():
    app = Flask(__name__)
    #bcrypt
    bcrypt.init_app(app)

    return app
```
```python
password = "test"

# ì•”í˜¸í™”
encrypted_password = bcrypt.hashpw(password.encode("utf-8"), bcrypt.gensalt()) 
#=> b'$2b$12$/vf/wF1/4dMU1G5OV.RrSOl6YwG1HyXr/xt05tiH9oMxsJShb7QZm'

# dbì— ì €ì¥í•  ë•ŒëŠ” strí˜•íƒœë¡œ ì €ì¥.
encrypted_password.decode("utf-8")
#=> $2b$12$/vf/wF1/4dMU1G5OV.RrSOl6YwG1HyXr/xt05tiH9oMxsJShb7QZm
```

<br>

### ğŸ’¡ ***12.22 ì¶”ê°€ ë‚´ìš©***

ì¶”ê°€ì ìœ¼ë¡œ check_password_hashë¥¼ ì‚¬ìš©í•´ì„œ ë¡œê·¸ì¸ì‹œ ì•”í˜¸ê°€ ë§ëŠ”ì§€ ì•„ë‹Œì§€ í™•ì¸í•  ë•Œì—ëŠ” 

ì•„ë˜ì™€ ê°™ì´ í™•ì¸í•´ ì¤€ë‹¤. ë°˜í™˜ ê°’ì€ True í˜¹ì€ False ì˜€ë‹¤.
```python
# dbì— strí˜•íƒœë„ ì €ì¥ë˜ì–´ ìˆëŠ” ë¹„ë°€ë²ˆí˜¸
db_password = '$2b$12$/vf/wF1/4dMU1G5OV.RrSOl6YwG1HyXr/xt05tiH9oMxsJShb7QZm'

# (str â†’ byte-string) 
db_password = bytes(db_password, encoding = "utf-8")
#=> b'$2b$12$/vf/wF1/4dMU1G5OV.RrSOl6YwG1HyXr/xt05tiH9oMxsJShb7QZm'

# ë¡œê·¸ì¸ì‹œ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ì™€ DBì— ì €ì¥ë˜ì–´ ìˆëŠ” ë¹„ë°€ë²ˆí˜¸ ë¹„êµ.
bcrypt.chect_password_hash(input_pw.encode('utf-8'), db_password)
#=> True
```
ê·¸ë¦¬ê³  ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì™€, ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„° ëª¨ë‘ byte-stringì„ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.

> í–ˆë˜ ì‹¤ìˆ˜ : byte-stringì„ ë„£ì–´ì£¼ì§€ ì•ŠìŒ.

<br>

### ğŸ“š Reference
- [ì°¸ê³  ë¸”ë¡œê·¸](https://justkode.kr/python/flask-restapi-3)

---

