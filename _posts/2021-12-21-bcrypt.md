---
layout: post
title: Flask-bcrypyt
categories: flask 
---

### ğŸ’¡ ***ë¹„ë°€ë²ˆí˜¸ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê¸°***

ì•”í˜¸ë¥¼ ìˆëŠ” ê·¸ëŒ€ë¡œ DBì— ì €ì¥í•˜ë©´ ë³´ì•ˆìƒ ë¬¸ì œê°€ ìƒê¸´ë‹¤.

ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ <span style="color:#2E8B57">***Flask-bcrpyt***</span>ë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤.

```python
# __init__.py

from flask import Flask
from flask_sqlalchemy import SQLAlchemy
from flask_migrate import Migrate
import config
from flask_bcrypt import Bcrypt

db = SQLAlchemy()
migrate = Migrate()
bcrypt = Bcrypt()

def create_app():
    app = Flask(__name__)
    app.config.from_object(config)
    
    # ORM
    db.init_app(app)
    migrate.init_app(app, db)

    #bcrypt
    bcrypt.init_app(app)

    # Blueprint(ìƒëµ)

    # Model(ìƒëµ)
    return app
```
```python
from flask import Blueprint, render_template, url_for, flash, session, request, g
from werkzeug.utils import redirect
from todo.models import User
from todo import db, bcrypt
from todo.forms import UserCreationForm, UserLoginForm

bp = Blueprint('auth', __name__, url_prefix='/auth')

@bp.route('/signup/', methods=["GET","POST"])
def signup():
    form = UserCreationForm()
    if request.method == 'POST' and form.validate_on_submit():
        user = User.query.filter_by(username=form.username.data).first()
        if not user:
            user = User(
                username = form.username.data,
                password =  bcrypt.generate_password_hash(form.password1.data),
                email = form.email.data
            )
            print(user.password)
            db.session.add(user)
            db.session.commit()
            return redirect(url_for('main.index'))
        else:
            flash("ì´ë¯¸ ìˆëŠ” ì‚¬ìš©ì")
    else:
        form = UserCreationForm()
    return render_template('signup/main_signup.html', form=form)
```
bcrypt.check_password_hash(b_password, 'password') ì™€ ê°™ì´ ì•”í˜¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---
